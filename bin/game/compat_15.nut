/*
 * This file is part of OpenTTD.
 * OpenTTD is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, version 2.
 * OpenTTD is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 * See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with OpenTTD. If not, see <http://www.gnu.org/licenses/>.
 */

GSList.ValuateCompat15 <- GSList.Valuate
GSBridgeList.ValuateCompat15 <- GSBridgeList.Valuate
GSBridgeList_Length.ValuateCompat15 <- GSBridgeList_Length.Valuate
GSCargoList.ValuateCompat15 <- GSCargoList.Valuate
GSCargoList_IndustryAccepting.ValuateCompat15 <- GSCargoList_IndustryAccepting.Valuate
GSCargoList_IndustryProducing.ValuateCompat15 <- GSCargoList_IndustryProducing.Valuate
GSCargoList_StationAccepting.ValuateCompat15 <- GSCargoList_StationAccepting.Valuate
GSClientList.ValuateCompat15 <- GSClientList.Valuate
GSClientList_Company.ValuateCompat15 <- GSClientList_Company.Valuate
GSDepotList.ValuateCompat15 <- GSDepotList.Valuate
GSEngineList.ValuateCompat15 <- GSEngineList.Valuate
GSGroupList.ValuateCompat15 <- GSGroupList.Valuate
GSIndustryList.ValuateCompat15 <- GSIndustryList.Valuate
GSIndustryList_CargoAccepting.ValuateCompat15 <- GSIndustryList_CargoAccepting.Valuate
GSIndustryList_CargoProducing.ValuateCompat15 <- GSIndustryList_CargoProducing.Valuate
GSIndustryTypeList.ValuateCompat15 <- GSIndustryTypeList.Valuate
GSNewGRFList.ValuateCompat15 <- GSNewGRFList.Valuate
GSObjectTypeList.ValuateCompat15 <- GSObjectTypeList.Valuate
GSRailTypeList.ValuateCompat15 <- GSRailTypeList.Valuate
GSRoadTypeList.ValuateCompat15 <- GSRoadTypeList.Valuate
GSSignList.ValuateCompat15 <- GSSignList.Valuate
GSStationList.ValuateCompat15 <- GSStationList.Valuate
GSStationList_Cargo.ValuateCompat15 <- GSStationList_Cargo.Valuate
GSStationList_CargoPlanned.ValuateCompat15 <- GSStationList_CargoPlanned.Valuate
GSStationList_CargoWaiting.ValuateCompat15 <- GSStationList_CargoWaiting.Valuate
GSStationList_CargoWaitingByFrom.ValuateCompat15 <- GSStationList_CargoWaitingByFrom.Valuate
GSStationList_CargoWaitingViaByFrom.ValuateCompat15 <- GSStationList_CargoWaitingViaByFrom.Valuate
GSStationList_CargoWaitingByVia.ValuateCompat15 <- GSStationList_CargoWaitingByVia.Valuate
GSStationList_CargoWaitingFromByVia.ValuateCompat15 <- GSStationList_CargoWaitingFromByVia.Valuate
GSStationList_CargoPlannedByFrom.ValuateCompat15 <- GSStationList_CargoPlannedByFrom.Valuate
GSStationList_CargoPlannedViaByFrom.ValuateCompat15 <- GSStationList_CargoPlannedViaByFrom.Valuate
GSStationList_CargoPlannedByVia.ValuateCompat15 <- GSStationList_CargoPlannedByVia.Valuate
GSStationList_CargoPlannedFromByVia.ValuateCompat15 <- GSStationList_CargoPlannedFromByVia.Valuate
GSStationList_Vehicle.ValuateCompat15 <- GSStationList_Vehicle.Valuate
GSStoryPageElementList.ValuateCompat15 <- GSStoryPageElementList.Valuate
GSStoryPageList.ValuateCompat15 <- GSStoryPageList.Valuate
GSSubsidyList.ValuateCompat15 <- GSSubsidyList.Valuate
GSTileList.ValuateCompat15 <- GSTileList.Valuate
GSTileList_IndustryAccepting.ValuateCompat15 <- GSTileList_IndustryAccepting.Valuate
GSTileList_IndustryProducing.ValuateCompat15 <- GSTileList_IndustryProducing.Valuate
GSTileList_StationType.ValuateCompat15 <- GSTileList_StationType.Valuate
GSTileList_StationCoverage.ValuateCompat15 <- GSTileList_StationCoverage.Valuate
GSTownList.ValuateCompat15 <- GSTownList.Valuate
GSTownEffectList.ValuateCompat15 <- GSTownEffectList.Valuate
GSVehicleList.ValuateCompat15 <- GSVehicleList.Valuate
GSVehicleList_Station.ValuateCompat15 <- GSVehicleList_Station.Valuate
GSVehicleList_Depot.ValuateCompat15 <- GSVehicleList_Depot.Valuate
GSVehicleList_SharedOrders.ValuateCompat15 <- GSVehicleList_SharedOrders.Valuate
GSVehicleList_Group.ValuateCompat15 <- GSVehicleList_Group.Valuate
GSVehicleList_DefaultGroup.ValuateCompat15 <- GSVehicleList_DefaultGroup.Valuate
GSWaypointList.ValuateCompat15 <- GSWaypointList.Valuate
GSWaypointList_Vehicle.ValuateCompat15 <- GSWaypointList_Vehicle.Valuate

GSList.Valuate <-
GSBridgeList.Valuate <-
GSBridgeList_Length.Valuate <-
GSCargoList.Valuate <-
GSCargoList_IndustryAccepting.Valuate <-
GSCargoList_IndustryProducing.Valuate <-
GSCargoList_StationAccepting.Valuate <-
GSClientList.Valuate <-
GSClientList_Company.Valuate <-
GSDepotList.Valuate <-
GSEngineList.Valuate <-
GSGroupList.Valuate <-
GSIndustryList.Valuate <-
GSIndustryList_CargoAccepting.Valuate <-
GSIndustryList_CargoProducing.Valuate <-
GSIndustryTypeList.Valuate <-
GSNewGRFList.Valuate <-
GSObjectTypeList.Valuate <-
GSRailTypeList.Valuate <-
GSRoadTypeList.Valuate <-
GSSignList.Valuate <-
GSStationList.Valuate <-
GSStationList_Cargo.Valuate <-
GSStationList_CargoPlanned.Valuate <-
GSStationList_CargoWaiting.Valuate <-
GSStationList_CargoWaitingByFrom.Valuate <-
GSStationList_CargoWaitingViaByFrom.Valuate <-
GSStationList_CargoWaitingByVia.Valuate <-
GSStationList_CargoWaitingFromByVia.Valuate <-
GSStationList_CargoPlannedByFrom.Valuate <-
GSStationList_CargoPlannedViaByFrom.Valuate <-
GSStationList_CargoPlannedByVia.Valuate <-
GSStationList_CargoPlannedFromByVia.Valuate <-
GSStationList_Vehicle.Valuate <-
GSStoryPageElementList.Valuate <-
GSStoryPageList.Valuate <-
GSSubsidyList.Valuate <-
GSTileList.Valuate <-
GSTileList_IndustryAccepting.Valuate <-
GSTileList_IndustryProducing.Valuate <-
GSTileList_StationType.Valuate <-
GSTileList_StationCoverage.Valuate <-
GSTownList.Valuate <-
GSTownEffectList.Valuate <-
GSVehicleList.Valuate <-
GSVehicleList_Station.Valuate <-
GSVehicleList_Waypoint.Valuate <-
GSVehicleList_Depot.Valuate <-
GSVehicleList_SharedOrders.Valuate <-
GSVehicleList_Group.Valuate <-
GSVehicleList_DefaultGroup.Valuate <-
GSWaypointList.Valuate <-
GSWaypointList_Vehicle.Valuate <-
function(valuator_function, ...)
{
	if (this.IsSlowValuateEnabled()) {
		local sorter_type = this.GetSorterType();
		this.Sort(1, this.GetSorterDirection());

		switch (vargc) {
			case 0: foreach (item, _ in this) this[item] = valuator_function(item); this.Sort(sorter_type, this.GetSorterDirection()); return;
			case 1: foreach (item, _ in this) this[item] = valuator_function(item, vargv[0]); this.Sort(sorter_type, this.GetSorterDirection()); return;
			case 2: foreach (item, _ in this) this[item] = valuator_function(item, vargv[0], vargv[1]); this.Sort(sorter_type, this.GetSorterDirection()); return;
			case 3: foreach (item, _ in this) this[item] = valuator_function(item, vargv[0], vargv[1], vargv[2]); this.Sort(sorter_type, this.GetSorterDirection()); return;
			case 4: foreach (item, _ in this) this[item] = valuator_function(item, vargv[0], vargv[1], vargv[2], vargv[3]); this.Sort(sorter_type, this.GetSorterDirection()); return;
			case 5: foreach (item, _ in this) this[item] = valuator_function(item, vargv[0], vargv[1], vargv[2], vargv[3], vargv[4]); this.Sort(sorter_type, this.GetSorterDirection()); return;
			case 6: foreach (item, _ in this) this[item] = valuator_function(item, vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5]); this.Sort(sorter_type, this.GetSorterDirection()); return;
			case 7: foreach (item, _ in this) this[item] = valuator_function(item, vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6]); this.Sort(sorter_type, this.GetSorterDirection()); return;
			case 8: foreach (item, _ in this) this[item] = valuator_function(item, vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7]); this.Sort(sorter_type, this.GetSorterDirection()); return;
			case 9: foreach (item, _ in this) this[item] = valuator_function(item, vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7], vargv[8]); this.Sort(sorter_type, this.GetSorterDirection()); return;
			case 10: foreach (item, _ in this) this[item] = valuator_function(item, vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7], vargv[8], vargv[9]); this.Sort(sorter_type, this.GetSorterDirection()); return;
			default: throw "Too many arguments in valuator function";
		}
	} else {
		switch (vargc) {
			case 0: this.ValuateCompat15(valuator_function); return;
			case 1: this.ValuateCompat15(valuator_function, vargv[0]); return;
			case 2: this.ValuateCompat15(valuator_function, vargv[0], vargv[1]); return;
			case 3: this.ValuateCompat15(valuator_function, vargv[0], vargv[1], vargv[2]); return;
			case 4: this.ValuateCompat15(valuator_function, vargv[0], vargv[1], vargv[2], vargv[3]); return;
			case 5: this.ValuateCompat15(valuator_function, vargv[0], vargv[1], vargv[2], vargv[3], vargv[4]); return;
			case 6: this.ValuateCompat15(valuator_function, vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5]); return;
			case 7: this.ValuateCompat15(valuator_function, vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6]); return;
			case 8: this.ValuateCompat15(valuator_function, vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7]); return;
			case 9: this.ValuateCompat15(valuator_function, vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7], vargv[8]); return;
			case 10: this.ValuateCompat15(valuator_function, vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7], vargv[8], vargv[9]); return;
			default: throw "Too many arguments in valuator function";
		}
	}
}

GSTownList.constructorCompat15 <- GSTownList.constructor
GSVehicleList.constructorCompat15 <- GSVehicleList.constructor
GSSubsidyList.constructorCompat15 <- GSSubsidyList.constructor
GSSignList.constructorCompat15 <- GSSignList.constructor
GSIndustryList.constructorCompat15 <- GSIndustryList.constructor
GSGroupList.constructorCompat15 <- GSGroupList.constructor

GSTownList.constructor <-
GSVehicleList.constructor <-
GSSubsidyList.constructor <-
GSSignList.constructor <-
GSIndustryList.constructor <-
GSGroupList.constructor <-
function(...)
{
	this.constructorCompat15();
	if (!vargc) return;
	if (this.IsSlowValuateEnabled()) {
		switch (vargc) {
			case 1: foreach (item, _ in this) if (!vargv[0](item)) this[item] = null; return;
			case 2: foreach (item, _ in this) if (!vargv[0](item, vargv[1])) this[item] = null; return;
			case 3: foreach (item, _ in this) if (!vargv[0](item, vargv[1], vargv[2])) this[item] = null; return;
			case 4: foreach (item, _ in this) if (!vargv[0](item, vargv[1], vargv[2], vargv[3])) this[item] = null; return;
			case 5: foreach (item, _ in this) if (!vargv[0](item, vargv[1], vargv[2], vargv[3], vargv[4])) this[item] = null; return;
			case 6: foreach (item, _ in this) if (!vargv[0](item, vargv[1], vargv[2], vargv[3], vargv[4], vargv[5])) this[item] = null; return;
			case 7: foreach (item, _ in this) if (!vargv[0](item, vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6])) this[item] = null; return;
			case 8: foreach (item, _ in this) if (!vargv[0](item, vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7])) this[item] = null; return;
			case 9: foreach (item, _ in this) if (!vargv[0](item, vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7], vargv[8])) this[item] = null; return;
			case 10: foreach (item, _ in this) if (!vargv[0](item, vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7], vargv[8], vargv[9])) this[item] = null; return;
			case 11: foreach (item, _ in this) if (!vargv[0](item, vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7], vargv[8], vargv[9], vargv[10])) this[item] = null; return;
			default: throw "Too many arguments in filter function";
		}
	} else {
		switch (vargc) {
			case 1: this.constructorCompat15(vargv[0]); return;
			case 2: this.constructorCompat15(vargv[0], vargv[1]); return;
			case 3: this.constructorCompat15(vargv[0], vargv[1], vargv[2]); return;
			case 4: this.constructorCompat15(vargv[0], vargv[1], vargv[2], vargv[3]); return;
			case 5: this.constructorCompat15(vargv[0], vargv[1], vargv[2], vargv[3], vargv[4]); return;
			case 6: this.constructorCompat15(vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5]); return;
			case 7: this.constructorCompat15(vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6]); return;
			case 8: this.constructorCompat15(vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7]); return;
			case 9: this.constructorCompat15(vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7], vargv[8]); return;
			case 10: this.constructorCompat15(vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7], vargv[8], vargv[9]); return;
			case 11: this.constructorCompat15(vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7], vargv[8], vargv[9], vargv[10]); return;
			default: throw "Too many arguments in filter function";
		}
	}
}
