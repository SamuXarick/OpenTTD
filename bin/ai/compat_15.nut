/*
 * This file is part of OpenTTD.
 * OpenTTD is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, version 2.
 * OpenTTD is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 * See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with OpenTTD. If not, see <http://www.gnu.org/licenses/>.
 */

AIList.ValuateCompat15 <- AIList.Valuate
AIBridgeList.ValuateCompat15 <- AIBridgeList.Valuate
AIBridgeList_Length.ValuateCompat15 <- AIBridgeList_Length.Valuate
AICargoList.ValuateCompat15 <- AICargoList.Valuate
AICargoList_IndustryAccepting.ValuateCompat15 <- AICargoList_IndustryAccepting.Valuate
AICargoList_IndustryProducing.ValuateCompat15 <- AICargoList_IndustryProducing.Valuate
AICargoList_StationAccepting.ValuateCompat15 <- AICargoList_StationAccepting.Valuate
AIDepotList.ValuateCompat15 <- AIDepotList.Valuate
AIEngineList.ValuateCompat15 <- AIEngineList.Valuate
AIGroupList.ValuateCompat15 <- AIGroupList.Valuate
AIIndustryList.ValuateCompat15 <- AIIndustryList.Valuate
AIIndustryList_CargoAccepting.ValuateCompat15 <- AIIndustryList_CargoAccepting.Valuate
AIIndustryList_CargoProducing.ValuateCompat15 <- AIIndustryList_CargoProducing.Valuate
AIIndustryTypeList.ValuateCompat15 <- AIIndustryTypeList.Valuate
AINewGRFList.ValuateCompat15 <- AINewGRFList.Valuate
AIObjectTypeList.ValuateCompat15 <- AIObjectTypeList.Valuate
AIRailTypeList.ValuateCompat15 <- AIRailTypeList.Valuate
AIRoadTypeList.ValuateCompat15 <- AIRoadTypeList.Valuate
AISignList.ValuateCompat15 <- AISignList.Valuate
AIStationList.ValuateCompat15 <- AIStationList.Valuate
AIStationList_Cargo.ValuateCompat15 <- AIStationList_Cargo.Valuate
AIStationList_CargoPlanned.ValuateCompat15 <- AIStationList_CargoPlanned.Valuate
AIStationList_CargoWaiting.ValuateCompat15 <- AIStationList_CargoWaiting.Valuate
AIStationList_CargoWaitingByFrom.ValuateCompat15 <- AIStationList_CargoWaitingByFrom.Valuate
AIStationList_CargoWaitingViaByFrom.ValuateCompat15 <- AIStationList_CargoWaitingViaByFrom.Valuate
AIStationList_CargoWaitingByVia.ValuateCompat15 <- AIStationList_CargoWaitingByVia.Valuate
AIStationList_CargoWaitingFromByVia.ValuateCompat15 <- AIStationList_CargoWaitingFromByVia.Valuate
AIStationList_CargoPlannedByFrom.ValuateCompat15 <- AIStationList_CargoPlannedByFrom.Valuate
AIStationList_CargoPlannedViaByFrom.ValuateCompat15 <- AIStationList_CargoPlannedViaByFrom.Valuate
AIStationList_CargoPlannedByVia.ValuateCompat15 <- AIStationList_CargoPlannedByVia.Valuate
AIStationList_CargoPlannedFromByVia.ValuateCompat15 <- AIStationList_CargoPlannedFromByVia.Valuate
AIStationList_Vehicle.ValuateCompat15 <- AIStationList_Vehicle.Valuate
AISubsidyList.ValuateCompat15 <- AISubsidyList.Valuate
AITileList.ValuateCompat15 <- AITileList.Valuate
AITileList_IndustryAccepting.ValuateCompat15 <- AITileList_IndustryAccepting.Valuate
AITileList_IndustryProducing.ValuateCompat15 <- AITileList_IndustryProducing.Valuate
AITileList_StationType.ValuateCompat15 <- AITileList_StationType.Valuate
AITileList_StationCoverage.ValuateCompat15 <- AITileList_StationCoverage.Valuate
AITownList.ValuateCompat15 <- AITownList.Valuate
AITownEffectList.ValuateCompat15 <- AITownEffectList.Valuate
AIVehicleList.ValuateCompat15 <- AIVehicleList.Valuate
AIVehicleList_Station.ValuateCompat15 <- AIVehicleList_Station.Valuate
AIVehicleList_Depot.ValuateCompat15 <- AIVehicleList_Depot.Valuate
AIVehicleList_SharedOrders.ValuateCompat15 <- AIVehicleList_SharedOrders.Valuate
AIVehicleList_Group.ValuateCompat15 <- AIVehicleList_Group.Valuate
AIVehicleList_DefaultGroup.ValuateCompat15 <- AIVehicleList_DefaultGroup.Valuate
AIWaypointList.ValuateCompat15 <- AIWaypointList.Valuate
AIWaypointList_Vehicle.ValuateCompat15 <- AIWaypointList_Vehicle.Valuate

AIList.Valuate <-
AIBridgeList.Valuate <-
AIBridgeList_Length.Valuate <-
AICargoList.Valuate <-
AICargoList_IndustryAccepting.Valuate <-
AICargoList_IndustryProducing.Valuate <-
AICargoList_StationAccepting.Valuate <-
AIDepotList.Valuate <-
AIEngineList.Valuate <-
AIGroupList.Valuate <-
AIIndustryList.Valuate <-
AIIndustryList_CargoAccepting.Valuate <-
AIIndustryList_CargoProducing.Valuate <-
AIIndustryTypeList.Valuate <-
AINewGRFList.Valuate <-
AIObjectTypeList.Valuate <-
AIRailTypeList.Valuate <-
AIRoadTypeList.Valuate <-
AISignList.Valuate <-
AIStationList.Valuate <-
AIStationList_Cargo.Valuate <-
AIStationList_CargoPlanned.Valuate <-
AIStationList_CargoWaiting.Valuate <-
AIStationList_CargoWaitingByFrom.Valuate <-
AIStationList_CargoWaitingViaByFrom.Valuate <-
AIStationList_CargoWaitingByVia.Valuate <-
AIStationList_CargoWaitingFromByVia.Valuate <-
AIStationList_CargoPlannedByFrom.Valuate <-
AIStationList_CargoPlannedViaByFrom.Valuate <-
AIStationList_CargoPlannedByVia.Valuate <-
AIStationList_CargoPlannedFromByVia.Valuate <-
AIStationList_Vehicle.Valuate <-
AISubsidyList.Valuate <-
AITileList.Valuate <-
AITileList_IndustryAccepting.Valuate <-
AITileList_IndustryProducing.Valuate <-
AITileList_StationType.Valuate <-
AITileList_StationCoverage.Valuate <-
AITownList.Valuate <-
AITownEffectList.Valuate <-
AIVehicleList.Valuate <-
AIVehicleList_Station.Valuate <-
AIVehicleList_Waypoint.Valuate <-
AIVehicleList_Depot.Valuate <-
AIVehicleList_SharedOrders.Valuate <-
AIVehicleList_Group.Valuate <-
AIVehicleList_DefaultGroup.Valuate <-
AIWaypointList.Valuate <-
AIWaypointList_Vehicle.Valuate <-
function(valuator_function, ...)
{
	if (this.IsSlowValuateEnabled()) {
		local sorter_type = this.GetSorterType();
		this.Sort(1, this.GetSorterDirection());

		switch (vargc) {
			case 0: foreach (item, _ in this) this[item] = valuator_function(item); this.Sort(sorter_type, this.GetSorterDirection()); return;
			case 1: foreach (item, _ in this) this[item] = valuator_function(item, vargv[0]); this.Sort(sorter_type, this.GetSorterDirection()); return;
			case 2: foreach (item, _ in this) this[item] = valuator_function(item, vargv[0], vargv[1]); this.Sort(sorter_type, this.GetSorterDirection()); return;
			case 3: foreach (item, _ in this) this[item] = valuator_function(item, vargv[0], vargv[1], vargv[2]); this.Sort(sorter_type, this.GetSorterDirection()); return;
			case 4: foreach (item, _ in this) this[item] = valuator_function(item, vargv[0], vargv[1], vargv[2], vargv[3]); this.Sort(sorter_type, this.GetSorterDirection()); return;
			case 5: foreach (item, _ in this) this[item] = valuator_function(item, vargv[0], vargv[1], vargv[2], vargv[3], vargv[4]); this.Sort(sorter_type, this.GetSorterDirection()); return;
			case 6: foreach (item, _ in this) this[item] = valuator_function(item, vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5]); this.Sort(sorter_type, this.GetSorterDirection()); return;
			case 7: foreach (item, _ in this) this[item] = valuator_function(item, vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6]); this.Sort(sorter_type, this.GetSorterDirection()); return;
			case 8: foreach (item, _ in this) this[item] = valuator_function(item, vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7]); this.Sort(sorter_type, this.GetSorterDirection()); return;
			case 9: foreach (item, _ in this) this[item] = valuator_function(item, vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7], vargv[8]); this.Sort(sorter_type, this.GetSorterDirection()); return;
			case 10: foreach (item, _ in this) this[item] = valuator_function(item, vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7], vargv[8], vargv[9]); this.Sort(sorter_type, this.GetSorterDirection()); return;
			default: throw "Too many arguments in valuator function";
		}
	} else {
		switch (vargc) {
			case 0: this.ValuateCompat15(valuator_function); return;
			case 1: this.ValuateCompat15(valuator_function, vargv[0]); return;
			case 2: this.ValuateCompat15(valuator_function, vargv[0], vargv[1]); return;
			case 3: this.ValuateCompat15(valuator_function, vargv[0], vargv[1], vargv[2]); return;
			case 4: this.ValuateCompat15(valuator_function, vargv[0], vargv[1], vargv[2], vargv[3]); return;
			case 5: this.ValuateCompat15(valuator_function, vargv[0], vargv[1], vargv[2], vargv[3], vargv[4]); return;
			case 6: this.ValuateCompat15(valuator_function, vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5]); return;
			case 7: this.ValuateCompat15(valuator_function, vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6]); return;
			case 8: this.ValuateCompat15(valuator_function, vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7]); return;
			case 9: this.ValuateCompat15(valuator_function, vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7], vargv[8]); return;
			case 10: this.ValuateCompat15(valuator_function, vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7], vargv[8], vargv[9]); return;
			default: throw "Too many arguments in valuator function";
		}
	}
}

AITownList.constructorCompat15 <- AITownList.constructor
AIVehicleList.constructorCompat15 <- AIVehicleList.constructor
AISubsidyList.constructorCompat15 <- AISubsidyList.constructor
AISignList.constructorCompat15 <- AISignList.constructor
AIIndustryList.constructorCompat15 <- AIIndustryList.constructor
AIGroupList.constructorCompat15 <- AIGroupList.constructor

AITownList.constructor <-
AIVehicleList.constructor <-
AISubsidyList.constructor <-
AISignList.constructor <-
AIIndustryList.constructor <-
AIGroupList.constructor <-
function(...)
{
	this.constructorCompat15();
	if (!vargc) return;
	if (this.IsSlowValuateEnabled()) {
		switch (vargc) {
			case 1: foreach (item, _ in this) if (!vargv[0](item)) this[item] = null; return;
			case 2: foreach (item, _ in this) if (!vargv[0](item, vargv[1])) this[item] = null; return;
			case 3: foreach (item, _ in this) if (!vargv[0](item, vargv[1], vargv[2])) this[item] = null; return;
			case 4: foreach (item, _ in this) if (!vargv[0](item, vargv[1], vargv[2], vargv[3])) this[item] = null; return;
			case 5: foreach (item, _ in this) if (!vargv[0](item, vargv[1], vargv[2], vargv[3], vargv[4])) this[item] = null; return;
			case 6: foreach (item, _ in this) if (!vargv[0](item, vargv[1], vargv[2], vargv[3], vargv[4], vargv[5])) this[item] = null; return;
			case 7: foreach (item, _ in this) if (!vargv[0](item, vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6])) this[item] = null; return;
			case 8: foreach (item, _ in this) if (!vargv[0](item, vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7])) this[item] = null; return;
			case 9: foreach (item, _ in this) if (!vargv[0](item, vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7], vargv[8])) this[item] = null; return;
			case 10: foreach (item, _ in this) if (!vargv[0](item, vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7], vargv[8], vargv[9])) this[item] = null; return;
			case 11: foreach (item, _ in this) if (!vargv[0](item, vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7], vargv[8], vargv[9], vargv[10])) this[item] = null; return;
			default: throw "Too many arguments in filter function";
		}
	} else {
		switch (vargc) {
			case 1: this.constructorCompat15(vargv[0]); return;
			case 2: this.constructorCompat15(vargv[0], vargv[1]); return;
			case 3: this.constructorCompat15(vargv[0], vargv[1], vargv[2]); return;
			case 4: this.constructorCompat15(vargv[0], vargv[1], vargv[2], vargv[3]); return;
			case 5: this.constructorCompat15(vargv[0], vargv[1], vargv[2], vargv[3], vargv[4]); return;
			case 6: this.constructorCompat15(vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5]); return;
			case 7: this.constructorCompat15(vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6]); return;
			case 8: this.constructorCompat15(vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7]); return;
			case 9: this.constructorCompat15(vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7], vargv[8]); return;
			case 10: this.constructorCompat15(vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7], vargv[8], vargv[9]); return;
			case 11: this.constructorCompat15(vargv[0], vargv[1], vargv[2], vargv[3], vargv[4], vargv[5], vargv[6], vargv[7], vargv[8], vargv[9], vargv[10]); return;
			default: throw "Too many arguments in filter function";
		}
	}
}
